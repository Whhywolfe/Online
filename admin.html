<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡•à‡§®‡§≤ - SATTA BAZAAR</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2&display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Baloo 2', cursive;
      background: #f4f4f4;
      padding: 20px;
    }
    .box {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
      margin-bottom: 30px;
    }
    h2 {
      text-align: center;
      color: #d60000;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    .req {
      background: #fff7f7;
      border: 1px solid #ccc;
      padding: 15px;
      margin: 10px 0;
      border-radius: 10px;
    }
    .approve-btn {
      background: green;
      color: white;
      padding: 8px 14px;
      border: none;
      border-radius: 10px;
      margin-top: 10px;
    }
    .note {
      font-size: 14px;
      color: green;
      text-align: center;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<!-- üîê LOGIN BOX -->
<div class="box" id="loginBox">
  <h2>‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§®</h2>
  <input type="password" id="adminPass" placeholder="‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§°‡§æ‡§≤‡•á‡§Ç" />
  <button onclick="checkLogin()">‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</button>
</div>

<!-- ‚úÖ DEPOSIT REQUESTS -->
<div class="box" id="adminPanel" style="display:none;">
  <h2>Deposit Requests</h2>
  <div id="depositList"></div>
</div>

<!-- üéØ GAME RESULT UPDATE -->
<div class="box" id="gamePanel" style="display:none;">
  <h2>Game Result Update</h2>
  <select id="gameName">
    <option value="">-- ‡§ó‡•á‡§Æ ‡§ö‡•Å‡§®‡•á‡§Ç --</option>
    <option value="Gali">Gali</option>
    <option value="Disawar">Disawar</option>
    <option value="Faridabad">Faridabad</option>
    <option value="Ghaziabad">Ghaziabad</option>
    <option value="Shalimar">Shalimar</option>
  </select>
  <input type="text" id="gameNumber" placeholder="‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç (‡§ú‡•à‡§∏‡•á 24, 128)" />
  <button onclick="updateGame()">Update Number</button>
  <div class="note" id="gameMsg"></div>
</div>

<!-- üí∞ MANUAL BALANCE UPDATE -->
<div class="box" id="manualPanel" style="display:none;">
  <h2>Manually Payment Update</h2>
  <input type="text" id="manualMobile" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç" />
  <input type="number" id="manualAmount" placeholder="‡§∞‡§æ‡§∂‡§ø (‚Çπ)" />
  <input type="text" id="manualRemark" placeholder="‡§ï‡§Æ‡•á‡§Ç‡§ü/‡§∞‡•Ä‡§ú‡§®" />
  <button onclick="updateManualPayment()">Update Payment</button>
  <div class="note" id="manualMsg"></div>
</div>

<!-- ‚úçÔ∏è MANUAL DEPOSIT ADD -->
<div class="box" id="manualAddPanel" style="display:none;">
  <h2>Manually Deposit Add ‡§ï‡§∞‡•á‡§Ç</h2>
  <input type="text" id="manualName" placeholder="‡§®‡§æ‡§Æ (Optional)" />
  <input type="text" id="manualMobile2" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞" />
  <input type="number" id="manualAmount2" placeholder="‡§∞‡§æ‡§∂‡§ø (‚Çπ)" />
  <input type="text" id="manualUTR" placeholder="UTR/‡§∞‡•Ä‡§´‡§∞‡•á‡§Ç‡§∏ ‡§®‡§Ç‡§¨‡§∞" />
  <button onclick="addManualDeposit()">Deposit ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
  <div class="note" id="manualAddMsg"></div>
</div>

<script>
  const adminPassword = "Vishal@4820";

  function checkLogin() {
    const pass = document.getElementById("adminPass").value;
    if (pass === adminPassword) {
      document.getElementById("loginBox").style.display = "none";
      document.getElementById("adminPanel").style.display = "block";
      document.getElementById("gamePanel").style.display = "block";
      document.getElementById("manualPanel").style.display = "block";
      document.getElementById("manualAddPanel").style.display = "block";
      loadDeposits();
    } else {
      alert("‡§ó‡§≤‡§§ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°");
    }
  }

  function loadDeposits() {
    const list = document.getElementById("depositList");
    list.innerHTML = "";
    const deposits = JSON.parse(localStorage.getItem("deposits") || "[]");

    if (deposits.length === 0) {
      list.innerHTML = "<p class='note'>‡§ï‡•ã‡§à ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§</p>";
      return;
    }

    deposits.forEach((d, index) => {
      if (d.status === "pending") {
        const div = document.createElement("div");
        div.className = "req";
        div.innerHTML = `
          <p><b>‡§®‡§æ‡§Æ:</b> ${d.name}</p>
          <p><b>‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤:</b> ${d.mobile}</p>
          <p><b>‡§∞‡§æ‡§∂‡§ø:</b> ‚Çπ${d.amount}</p>
          <p><b>UTR:</b> ${d.utr}</p>
          <button class="approve-btn" onclick="approveDeposit(${index})">Approve</button>
        `;
        list.appendChild(div);
      }
    });
  }

  function approveDeposit(i) {
    const deposits = JSON.parse(localStorage.getItem("deposits") || "[]");
    const d = deposits[i];
    deposits[i].status = "approved";
    localStorage.setItem("deposits", JSON.stringify(deposits));

    const balances = JSON.parse(localStorage.getItem("balances") || "{}");
    if (!balances[d.mobile]) balances[d.mobile] = 0;
    balances[d.mobile] += parseInt(d.amount);
    localStorage.setItem("balances", JSON.stringify(balances));

    alert("Deposit Approved & Balance Updated");
    loadDeposits();
  }

  function updateGame() {
    const game = document.getElementById("gameName").value;
    const number = document.getElementById("gameNumber").value;

    if (!game || !number) {
      alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§ó‡•á‡§Æ ‡§î‡§∞ ‡§®‡§Ç‡§¨‡§∞ ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§≠‡§∞‡•á‡§Ç");
      return;
    }

    const results = JSON.parse(localStorage.getItem("results") || "{}");
    results[game] = {
      number: number,
      time: new Date().toLocaleString()
    };
    localStorage.setItem("results", JSON.stringify(results));

    document.getElementById("gameMsg").innerText = `Game "${game}" ‡§Ö‡§™‡§°‡•á‡§ü ‡§π‡•Å‡§Ü: ${number}`;
    document.getElementById("gameNumber").value = '';
  }

  function updateManualPayment() {
    const mobile = document.getElementById("manualMobile").value;
    const amount = parseInt(document.getElementById("manualAmount").value);
    const remark = document.getElementById("manualRemark").value;

    if (!mobile || isNaN(amount) || !remark) {
      alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç");
      return;
    }

    const balances = JSON.parse(localStorage.getItem("balances") || "{}");
    if (!balances[mobile]) balances[mobile] = 0;
    balances[mobile] += amount;
    localStorage.setItem("balances", JSON.stringify(balances));

    const payments = JSON.parse(localStorage.getItem("manualPayments") || "[]");
    payments.push({ mobile, amount, remark, time: new Date().toLocaleString() });
    localStorage.setItem("manualPayments", JSON.stringify(payments));

    document.getElementById("manualMsg").innerText = "‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§Ö‡§™‡§°‡•á‡§ü ‡§π‡•Å‡§Ü ‚úÖ";
    document.getElementById("manualMobile").value = '';
    document.getElementById("manualAmount").value = '';
    document.getElementById("manualRemark").value = '';
  }

  function addManualDeposit() {
    const name = document.getElementById('manualName').value.trim() || "AdminEntry";
    const mobile = document.getElementById('manualMobile2').value.trim();
    const amount = parseInt(document.getElementById('manualAmount2').value.trim());
    const utr = document.getElementById('manualUTR').value.trim() || "Manual";

    if (!mobile || !amount) {
      alert("‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§î‡§∞ ‡§∞‡§æ‡§∂‡§ø ‡§≠‡§∞‡§®‡§æ ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à");
      return;
    }

    const deposits = JSON.parse(localStorage.getItem("deposits") || "[]");
    deposits.push({ name, mobile, amount, utr, status: "approved" });
    localStorage.setItem("deposits", JSON.stringify(deposits));

    const balances = JSON.parse(localStorage.getItem("balances") || "{}");
    if (!balances[mobile]) balances[mobile] = 0;
    balances[mobile] += amount;
    localStorage.setItem("balances", JSON.stringify(balances));

    document.getElementById("manualAddMsg").innerText = "Deposit manually add ‡§π‡•ã ‡§ó‡§Ø‡§æ ‚úÖ";
    document.getElementById("manualName").value = '';
    document.getElementById("manualMobile2").value = '';
    document.getElementById("manualAmount2").value = '';
    document.getElementById("manualUTR").value = '';
  }
</script>

</body>
</html>
